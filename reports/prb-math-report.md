# Aderyn Analysis Report

This report was generated by [Aderyn](https://github.com/Cyfrin/aderyn), a static analysis tool built by [Cyfrin](https://cyfrin.io), a blockchain security company. This report is not a substitute for manual audit or security review. It should not be relied upon for any purpose other than to assist in the identification of potential security vulnerabilities.
# Table of Contents

- [Summary](#summary)
  - [Files Summary](#files-summary)
  - [Files Details](#files-details)
  - [Issue Summary](#issue-summary)
- [High Issues](#high-issues)
  - [H-1: Unsafe Casting](#h-1-unsafe-casting)
- [Low Issues](#low-issues)
  - [L-1: Solidity pragma should be specific, not wide](#l-1-solidity-pragma-should-be-specific-not-wide)
  - [L-2: PUSH0 is not supported by all chains](#l-2-push0-is-not-supported-by-all-chains)
  - [L-3: Large literal values multiples of 10000 can be replaced with scientific notation](#l-3-large-literal-values-multiples-of-10000-can-be-replaced-with-scientific-notation)
  - [L-4: Internal functions called only once can be inlined](#l-4-internal-functions-called-only-once-can-be-inlined)


# Summary

## Files Summary

| Key | Value |
| --- | --- |
| .sol Files | 30 |
| Total nSLOC | 1829 |


## Files Details

| Filepath | nSLOC |
| --- | --- |
| src/Common.sol | 411 |
| src/SD1x18.sol | 5 |
| src/SD59x18.sol | 8 |
| src/UD2x18.sol | 5 |
| src/UD60x18.sol | 8 |
| src/casting/Uint128.sol | 29 |
| src/casting/Uint256.sol | 34 |
| src/casting/Uint40.sol | 19 |
| src/sd1x18/Casting.sol | 57 |
| src/sd1x18/Constants.sol | 10 |
| src/sd1x18/Errors.sol | 8 |
| src/sd1x18/ValueType.sol | 12 |
| src/sd59x18/Casting.sol | 78 |
| src/sd59x18/Constants.sol | 31 |
| src/sd59x18/Conversions.sol | 18 |
| src/sd59x18/Errors.sol | 29 |
| src/sd59x18/Helpers.sol | 72 |
| src/sd59x18/Math.sol | 355 |
| src/sd59x18/ValueType.sol | 73 |
| src/ud2x18/Casting.sol | 43 |
| src/ud2x18/Constants.sol | 8 |
| src/ud2x18/Errors.sol | 4 |
| src/ud2x18/ValueType.sol | 12 |
| src/ud60x18/Casting.sol | 60 |
| src/ud60x18/Constants.sol | 23 |
| src/ud60x18/Conversions.sol | 15 |
| src/ud60x18/Errors.sol | 14 |
| src/ud60x18/Helpers.sol | 64 |
| src/ud60x18/Math.sol | 255 |
| src/ud60x18/ValueType.sol | 69 |
| **Total** | **1829** |


## Issue Summary

| Category | No. of Issues |
| --- | --- |
| High | 1 |
| Low | 4 |


# High Issues

## H-1: Unsafe Casting

Downcasting int/uints in Solidity can be unsafe due to the potential for data loss and unintended behavior.When downcasting a larger integer type to a smaller one (e.g., uint256 to uint128), the value may exceed the range of the target type,leading to truncation and loss of significant digits. Use OpenZeppelin's SafeCast library to safely downcast integers.

<details><summary>6 Found Instances</summary>


- Found in src/sd59x18/Casting.sol [Line: 31](../tests/prb-math/src/sd59x18/Casting.sol#L31)

	```solidity
	    result = SD1x18.wrap(int64(xInt));
	```

- Found in src/ud2x18/Casting.sol [Line: 54](../tests/prb-math/src/ud2x18/Casting.sol#L54)

	```solidity
	    result = uint40(xUint);
	```

- Found in src/ud60x18/Casting.sol [Line: 22](../tests/prb-math/src/ud60x18/Casting.sol#L22)

	```solidity
	    result = SD1x18.wrap(int64(uint64(xUint)));
	```

- Found in src/ud60x18/Casting.sol [Line: 33](../tests/prb-math/src/ud60x18/Casting.sol#L33)

	```solidity
	    result = UD2x18.wrap(uint64(xUint));
	```

- Found in src/ud60x18/Casting.sol [Line: 61](../tests/prb-math/src/ud60x18/Casting.sol#L61)

	```solidity
	    result = uint128(xUint);
	```

- Found in src/ud60x18/Casting.sol [Line: 72](../tests/prb-math/src/ud60x18/Casting.sol#L72)

	```solidity
	    result = uint40(xUint);
	```

</details>



# Low Issues

## L-1: Solidity pragma should be specific, not wide

Consider using a specific version of Solidity in your contracts instead of a wide version. For example, instead of `pragma solidity ^0.8.0;`, use `pragma solidity 0.8.0;`

<details><summary>30 Found Instances</summary>


- Found in src/Common.sol [Line: 2](../tests/prb-math/src/Common.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/SD1x18.sol [Line: 2](../tests/prb-math/src/SD1x18.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/SD59x18.sol [Line: 2](../tests/prb-math/src/SD59x18.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/UD2x18.sol [Line: 2](../tests/prb-math/src/UD2x18.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/UD60x18.sol [Line: 2](../tests/prb-math/src/UD60x18.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/casting/Uint128.sol [Line: 2](../tests/prb-math/src/casting/Uint128.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/casting/Uint256.sol [Line: 2](../tests/prb-math/src/casting/Uint256.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/casting/Uint40.sol [Line: 2](../tests/prb-math/src/casting/Uint40.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/sd1x18/Casting.sol [Line: 2](../tests/prb-math/src/sd1x18/Casting.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/sd1x18/Constants.sol [Line: 2](../tests/prb-math/src/sd1x18/Constants.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/sd1x18/Errors.sol [Line: 2](../tests/prb-math/src/sd1x18/Errors.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/sd1x18/ValueType.sol [Line: 2](../tests/prb-math/src/sd1x18/ValueType.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/sd59x18/Casting.sol [Line: 2](../tests/prb-math/src/sd59x18/Casting.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/sd59x18/Constants.sol [Line: 2](../tests/prb-math/src/sd59x18/Constants.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/sd59x18/Conversions.sol [Line: 2](../tests/prb-math/src/sd59x18/Conversions.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/sd59x18/Errors.sol [Line: 2](../tests/prb-math/src/sd59x18/Errors.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/sd59x18/Helpers.sol [Line: 2](../tests/prb-math/src/sd59x18/Helpers.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/sd59x18/Math.sol [Line: 2](../tests/prb-math/src/sd59x18/Math.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/sd59x18/ValueType.sol [Line: 2](../tests/prb-math/src/sd59x18/ValueType.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/ud2x18/Casting.sol [Line: 2](../tests/prb-math/src/ud2x18/Casting.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/ud2x18/Constants.sol [Line: 2](../tests/prb-math/src/ud2x18/Constants.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/ud2x18/Errors.sol [Line: 2](../tests/prb-math/src/ud2x18/Errors.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/ud2x18/ValueType.sol [Line: 2](../tests/prb-math/src/ud2x18/ValueType.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/ud60x18/Casting.sol [Line: 2](../tests/prb-math/src/ud60x18/Casting.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/ud60x18/Constants.sol [Line: 2](../tests/prb-math/src/ud60x18/Constants.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/ud60x18/Conversions.sol [Line: 2](../tests/prb-math/src/ud60x18/Conversions.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/ud60x18/Errors.sol [Line: 2](../tests/prb-math/src/ud60x18/Errors.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/ud60x18/Helpers.sol [Line: 2](../tests/prb-math/src/ud60x18/Helpers.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/ud60x18/Math.sol [Line: 2](../tests/prb-math/src/ud60x18/Math.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/ud60x18/ValueType.sol [Line: 2](../tests/prb-math/src/ud60x18/ValueType.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

</details>



## L-2: PUSH0 is not supported by all chains

Solc compiler version 0.8.20 switches the default target EVM version to Shanghai, which means that the generated bytecode will include PUSH0 opcodes. Be sure to select the appropriate EVM version in case you intend to deploy on a chain other than mainnet like L2 chains that may not support PUSH0, otherwise deployment of your contracts will fail.

<details><summary>30 Found Instances</summary>


- Found in src/Common.sol [Line: 2](../tests/prb-math/src/Common.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/SD1x18.sol [Line: 2](../tests/prb-math/src/SD1x18.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/SD59x18.sol [Line: 2](../tests/prb-math/src/SD59x18.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/UD2x18.sol [Line: 2](../tests/prb-math/src/UD2x18.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/UD60x18.sol [Line: 2](../tests/prb-math/src/UD60x18.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/casting/Uint128.sol [Line: 2](../tests/prb-math/src/casting/Uint128.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/casting/Uint256.sol [Line: 2](../tests/prb-math/src/casting/Uint256.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/casting/Uint40.sol [Line: 2](../tests/prb-math/src/casting/Uint40.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/sd1x18/Casting.sol [Line: 2](../tests/prb-math/src/sd1x18/Casting.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/sd1x18/Constants.sol [Line: 2](../tests/prb-math/src/sd1x18/Constants.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/sd1x18/Errors.sol [Line: 2](../tests/prb-math/src/sd1x18/Errors.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/sd1x18/ValueType.sol [Line: 2](../tests/prb-math/src/sd1x18/ValueType.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/sd59x18/Casting.sol [Line: 2](../tests/prb-math/src/sd59x18/Casting.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/sd59x18/Constants.sol [Line: 2](../tests/prb-math/src/sd59x18/Constants.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/sd59x18/Conversions.sol [Line: 2](../tests/prb-math/src/sd59x18/Conversions.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/sd59x18/Errors.sol [Line: 2](../tests/prb-math/src/sd59x18/Errors.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/sd59x18/Helpers.sol [Line: 2](../tests/prb-math/src/sd59x18/Helpers.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/sd59x18/Math.sol [Line: 2](../tests/prb-math/src/sd59x18/Math.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/sd59x18/ValueType.sol [Line: 2](../tests/prb-math/src/sd59x18/ValueType.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/ud2x18/Casting.sol [Line: 2](../tests/prb-math/src/ud2x18/Casting.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/ud2x18/Constants.sol [Line: 2](../tests/prb-math/src/ud2x18/Constants.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/ud2x18/Errors.sol [Line: 2](../tests/prb-math/src/ud2x18/Errors.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/ud2x18/ValueType.sol [Line: 2](../tests/prb-math/src/ud2x18/ValueType.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/ud60x18/Casting.sol [Line: 2](../tests/prb-math/src/ud60x18/Casting.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/ud60x18/Constants.sol [Line: 2](../tests/prb-math/src/ud60x18/Constants.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/ud60x18/Conversions.sol [Line: 2](../tests/prb-math/src/ud60x18/Conversions.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/ud60x18/Errors.sol [Line: 2](../tests/prb-math/src/ud60x18/Errors.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/ud60x18/Helpers.sol [Line: 2](../tests/prb-math/src/ud60x18/Helpers.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/ud60x18/Math.sol [Line: 2](../tests/prb-math/src/ud60x18/Math.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

- Found in src/ud60x18/ValueType.sol [Line: 2](../tests/prb-math/src/ud60x18/ValueType.sol#L2)

	```solidity
	pragma solidity >=0.8.19;
	```

</details>



## L-3: Large literal values multiples of 10000 can be replaced with scientific notation

Use `e` notation, for example: `1e18`, instead of its full numeric value.

<details><summary>3 Found Instances</summary>


- Found in src/sd59x18/Constants.sol [Line: 44](../tests/prb-math/src/sd59x18/Constants.sol#L44)

	```solidity
	int256 constant uMAX_WHOLE_SD59x18 = 57896044618658097711785492504343953926634992332820282019728_000000000000000000;
	```

- Found in src/sd59x18/Constants.sol [Line: 52](../tests/prb-math/src/sd59x18/Constants.sol#L52)

	```solidity
	int256 constant uMIN_WHOLE_SD59x18 = -57896044618658097711785492504343953926634992332820282019728_000000000000000000;
	```

- Found in src/ud60x18/Constants.sol [Line: 36](../tests/prb-math/src/ud60x18/Constants.sol#L36)

	```solidity
	uint256 constant uMAX_WHOLE_UD60x18 = 115792089237316195423570985008687907853269984665640564039457_000000000000000000;
	```

</details>



## L-4: Internal functions called only once can be inlined

Instead of separating the logic into a separate function, consider inlining the logic into the calling function. This can reduce the number of function calls and improve readability.

<details><summary>3 Found Instances</summary>


- Found in src/Common.sol [Line: 387](../tests/prb-math/src/Common.sol#L387)

	```solidity
	function mulDiv(uint256 x, uint256 y, uint256 denominator) pure returns (uint256 result) {
	```

- Found in src/sd59x18/Math.sol [Line: 34](../tests/prb-math/src/sd59x18/Math.sol#L34)

	```solidity
	function abs(SD59x18 x) pure returns (SD59x18 result) {
	```

- Found in src/sd59x18/Math.sol [Line: 557](../tests/prb-math/src/sd59x18/Math.sol#L557)

	```solidity
	function mul(SD59x18 x, SD59x18 y) pure returns (SD59x18 result) {
	```

</details>



